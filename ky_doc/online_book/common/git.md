​		简单介绍：git是一个**版本控制**工具，所谓的版本控制其实就是为了方便管理你的代码。通俗些讲有点类似游戏里的存档。当你意识到接下来可能要做一些比较麻烦或者难以复原的改动，就可以在开始修改之前先做个存档。之后要是写崩了可以马上跳转回来，非常高效和安全。（如果没有git，我们的做法可能是先复制一份当前代码。之后需要的时候才把他换回去。这样做也行但是并不方便）

​		git的完整功能十分复杂，但日常最常用的一般就这么几个：add，branch，checkout，commit，clone。（但个人不怎么用clone，直接去github里面点击下载也很方便。貌似这个命令更常出现在一些自动化的脚本里面）

​		稍微不那么常用但一样很实用一些的命令主要有merge，reset，remote，log，diff，stash，pull，push

​		要使用git的话需要先初始化。方法也很简单，在你打算要进行代码管理的目录下面敲击命令：（你需要先安装git）

```bash
git init
```

​		这会在当前目录下生成一个叫做.git的文件。千万不要去修改它，不然会导致git失效。初始化完成之后你就可以使用git对本地的代码进行管理了

## 在本地运行

​		首先要明白它的工作流程和一些概念。这个在[这里](http://marklodato.github.io/visual-git-guide/index-zh-cn.html)有解释了我就不介绍太多。感觉最主要的是要搞清楚下面这张图：

![](http://marklodato.github.io/visual-git-guide/basic-usage.svg)

上面的四条命令在工作目录、暂存目录(也叫做索引)和仓库之间复制文件。

- `git add *files*` 把当前文件放入暂存区域保管起来。
- `git commit` 给暂存区域生成快照并提交。相当于是做了一次存档
- `git reset -- *files*` 用来撤销最后一次`git add *files*`，你也可以用`git reset` 撤销所有暂存区域文件。
- `git checkout -- *files*` 把文件从暂存区域复制到工作目录，用来丢弃本地修改。

​		working directory**工作区**就是你当前敲代码的地方。你整个目录下的所有实打实存在的文件其实就都属于这块空间。stage**暂存区**是git帮你暂时保管代码的区域，像是弱化版的存档。history里面则是一个个真正的存档。你可以用add把一个文件提交到暂存区让git帮你先保管起来（注意暂存区里保存的是你按下add**那一刻时**的文件状态。你之后在工作目录里对文件做的更新并不会自动反映到暂存区中。要是想更新暂存区里的文件你需要再对那个文件执行一次add）。

​		把文件提交到暂存区之后其实你就可以放心开始对他的修改了。即使你把文件删了，或者改的面目全非，通过checkout这个命令就能把你之前提交到暂存区里的文件拿回来。之后当你把工作区里面的文件改的差不多了，确定万无一失后就可以考虑使用commit创建一次提交，也就是存档。或者代码写崩了，把之前的状态还原回来。你可以使用git log命令查看当前已有的历史提交。每个提交由一个独一无二的神秘字符串来标识。要想还原到整个存档里的内容，只需使用git checkout命令然后跟上那次提交的标识符就行了。不需要完整，只要前几位就行。一般你输个两三位之后按tab他就会自动帮你补全。

​		注意checkout命令其实非常强大，他能做的远不止还原单个文件，他还能直接还原某个history里的一整个存档。甚至你可以用这个命令来创建新的**分支**。

​		commit命令则一般配合-m参数使用，这其实是git的规定，每次提交都必须附带一条信息。使用-m参数的话后面就可以直接带上一条消息，比较方便，比如：

```bash
git commit  -m "修复了xxx的bug"
```

​		这会创建一条提交记录，并附带一条信息。之后回顾起来也方便

我一般的工作流程是：

​		要修改代码了，先想清楚要修改的文件有哪些，把他们全部都提交到暂存区先保存起来，然后就可以慢慢改。改的过程中可以看情况决定是否用add更新暂存区中的状态（**要确保更新后的代码依然正常，不要把不正常的代码放到暂存区里。因为你之后可能还要利用它来复原的**）。发现不对了马上可以用checkout命令复原之前的某个文件。等改完了并且确信没有bug什么的就可以使用git add -A，把所有文件都提交到暂存区，然后commit。这样就创建了一个新的并且安全的存档。

​		如果改动较大可能会麻烦一点，风险也比较大。这时候还有个方案是先使用git checkout -b xx新建一个和当前状态一样的叫做xx的分支，然后在那个分支上面进行修改会比较安全。等修改完成再使用git merge把这个新分支的内容合并到之前分支。todo

## 将本地仓库同步到远程

​		需要在本地仓库做些配置工作。涉及到remote命令。相关的还有push和pull

​		todo

一些个人习惯

​		todo

​		git stash

​		git commit --amend

推荐资料：

https://learngitbranching.js.org/?locale=zh_CN（很多人推荐这个，但是个人觉得一般）

http://marklodato.github.io/visual-git-guide/index-zh-cn.html（强烈推荐）

https://onlywei.github.io/explain-git-with-d3/ 

